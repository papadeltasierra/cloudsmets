# Action to build a Telink Zigbee project.
name: 'Build a Telink tlsr825x project'
description: 'Install the Telink IDE, Zigbee SDK and the build a tlsr825x project'

# env: Not valid in an Action; see the first step below.

inputs:
  telink_ide:
    description: Location of the Telink IDE
  telink_zigbee_sdk:
    description: Location of the Telink Zigbee SDK
  project:
    description: tlsr8258 project
  target:
    description: tlsr8258 target to build
  debug:
    description: 'Debug flag'

runs:
  using: "composite"
  steps:
    - name: Set environment variables
      shell: pwsh
      run: |
        $ShellScript="${env:GITHUB_ACTION_PATH}\Build-Tlsr8258.ps1"
        $Arguments=@{
          TelinkIdePath = "${{ inputs.telink_ide}}"
          TelinkZigbeeSdkPath = "${{ inputs.telink_zigbee_sdk }}"
          Project = "${{ inputs.project }}"
          Target = "${{ inputs.target }}"
          Debug = "${{ inputs.debug }}"
        }
        & $ShellScript @Arguments
